"use strict";(self.webpackChunkdevelopment_framework_docs=self.webpackChunkdevelopment_framework_docs||[]).push([[4918],{658:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>c});var i=n(74848),a=n(28453),r=n(94723);const l={sidebar_position:1},o=void 0,s={id:"libraries/@development-framework/dm-core-plugins/TablePlugin/Blueprints",title:"Blueprints",description:"",source:"@site/docs/libraries/@development-framework/dm-core-plugins/TablePlugin/Blueprints.mdx",sourceDirName:"libraries/@development-framework/dm-core-plugins/TablePlugin",slug:"/libraries/@development-framework/dm-core-plugins/TablePlugin/Blueprints",permalink:"/dm-docs/docs/libraries/@development-framework/dm-core-plugins/TablePlugin/Blueprints",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Documentation",permalink:"/dm-docs/docs/libraries/@development-framework/dm-core-plugins/TablePlugin/Documentation"},next:{title:"Basic Table",permalink:"/dm-docs/docs/libraries/@development-framework/dm-core-plugins/TablePlugin/Examples/Basic.json"}},d={},c=[];function p(e){return(0,i.jsx)(r.YF,{blueprints:[{name:"TablePluginConfig",type:"CORE:Blueprint",attributes:[{name:"type",type:"CORE:BlueprintAttribute",attributeType:"string"},{name:"width",type:"dmss://system/SIMOS/BlueprintAttribute",description:"Width of the complete table",attributeType:"string",optional:!0},{name:"variant",type:"CORE:BlueprintAttribute",description:"Define table variants. Initial variant will be decided by which variant is passed first. Variants are 'view' and 'edit'",attributeType:"PLUGINS:dm-core-plugins/table/TableVariantConfig",default:[{name:"view",type:"PLUGINS:dm-core-plugins/table/TableVariantConfig"}],dimensions:"*",optional:!0},{name:"columns",type:"CORE:BlueprintAttribute",description:"Name of primitive child attributes to display in header of item",attributeType:"PLUGINS:dm-core-plugins/table/TableColumnConfig",default:[{type:"./TableColumnConfig",data:"name",label:"Name"},{type:"./TableColumnConfig",data:"type",editable:!1}],dimensions:"*",optional:!0},{name:"expandableRecipeViewConfig",type:"CORE:BlueprintAttribute",attributeType:"CORE:ViewConfig",optional:!0},{name:"templates",type:"CORE:BlueprintAttribute",description:"Attribute on parent (of same type as list) which should be used as template when instantiating new items. (e.g. 'template' will use the 'template' attribute on the parent.)",attributeType:"PLUGINS:dm-core-plugins/common/Template",dimensions:"*",optional:!0},{name:"labelByIndex",type:"CORE:BlueprintAttribute",description:"Control whether index should be appended to label when table item is opened.",attributeType:"boolean",default:!1,optional:!0},{name:"label",type:"CORE:BlueprintAttribute",description:"Override label for all items that are opened in a ViewSelector from table.",attributeType:"string",optional:!0}]},{name:"TableColumnConfig",type:"CORE:Blueprint",description:"In addition to adding columns that extract fields from data, you can also pass predefined fields like ^tab and ^expandable as data name to add predefined functionality to your table. The order of columns you pass is the order it will be printed in.",attributes:[{name:"type",type:"CORE:BlueprintAttribute",attributeType:"string"},{name:"data",type:"CORE:BlueprintAttribute",description:"Name of field you want to extract from data object",attributeType:"string"},{name:"dataType",type:"CORE:BlueprintAttribute",description:"Allowed values are 'string' | 'boolean' | 'number' | 'datetime'",attributeType:"string",default:"string",optional:!0},{name:"presentAs",type:"CORE:BlueprintAttribute",description:"If dataType is of type boolean. Available values: checkbox, text",attributeType:"string",default:"checkbox",optional:!0},{name:"label",type:"CORE:BlueprintAttribute",description:"Column label. Label will be name of data field by default",attributeType:"string",optional:!0},{name:"editable",type:"CORE:BlueprintAttribute",description:"Should data be editable in table edit mode.",attributeType:"boolean",default:!0,optional:!0},{name:"sortable",type:"CORE:BlueprintAttribute",attributeType:"boolean",default:!0,optional:!0}]},{name:"TableFunctionalityConfig",type:"CORE:Blueprint",attributes:[{name:"type",type:"dmss://system/SIMOS/BlueprintAttribute",attributeType:"string"},{name:"delete",type:"CORE:BlueprintAttribute",attributeType:"boolean",default:!1,optional:!0},{name:"add",type:"CORE:BlueprintAttribute",attributeType:"boolean",default:!1,optional:!0}]},{name:"TableVariantConfig",type:"CORE:Blueprint",attributes:[{name:"type",type:"CORE:BlueprintAttribute",attributeType:"string"},{name:"name",type:"CORE:BlueprintAttribute",description:"Available variants: view, edit",attributeType:"string"},{name:"density",type:"CORE:BlueprintAttribute",description:"Available values: compact, comfortable",attributeType:"string",default:"compact",optional:!0},{name:"functionality",type:"CORE:BlueprintAttribute",description:"Table functionality config",attributeType:"PLUGINS:dm-core-plugins/table/TableFunctionalityConfig",default:{type:"PLUGINS:dm-core-plugins/table/TableFunctionalityConfig",add:!0,delete:!0},optional:!0}]}]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(p,{...e})}):p()}},94723:(e,t,n)=>{n.d(t,{YF:()=>O,oh:()=>l,Y$:()=>f,H$:()=>m,KC:()=>X,gr:()=>b,BD:()=>o});var i=n(96540),a=n(27293),r=n(74848);const l=e=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(a.A,{type:"danger",children:["Unable to extract component '",e.name,"'"]})}),o=e=>{const{typeDoc:t}=e,n=t.comment??t.signatures[0]?.comment??{},i=n.summary[0]?.text??"";return(0,r.jsx)("div",{children:i})},s=(e,t)=>{const n=t.comment??t.signatures[0]?.comment??{};return n?.blockTags.find((t=>t.tag===e))},d=e=>{let t,n;const i=e.flags?.isOptional?"True":"False";return"union"===e.type.type?(t=e.type.types.map((e=>e.name)).join(" | "),n=e.comment?.summary?.map((e=>e.text)).join()??""):e.type.declaration?(t=e.type.declaration.signatures[0].type.name,n=e.type.declaration.signatures[0].comment?.summary[0]?.text):(t=e.type.name??e.kindString,n=e.comment?.summary[0]?.text),{type:t,optional:i,description:n}},c=["_id"],p=e=>{const{columns:t,rows:n}=e,i=e.onRowClicked?e.onRowClicked:e=>document.location=e.target.parentElement.accessKey,a=(e=>{const t=[];return e.forEach((e=>{t.push({name:e,accessor:e.replace(/ /g,"")})})),t})(t);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("table",{style:{width:"100%"},children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:a.map((e=>(0,r.jsx)("th",{children:e.name},`head-${e.accessor}`)))})}),(0,r.jsx)("tbody",{onClick:i,style:{cursor:"pointer"},children:n?.map(((e,t)=>(0,r.jsx)("tr",{id:e._id,tabIndex:e.index??t,accessKey:e.url??e._id,children:Object.keys(e).filter((e=>!c.includes(e))).map((t=>(0,r.jsx)("td",{children:e[t]},t)))},e._id)))})]})})},u=["Name","Type","Optional","Description"],m=e=>{const{typeDoc:t,typeDocs:n,title:i}=e,a=(0,r.jsx)("h2",{children:i??"Parameters"}),l=[],o=(e=>e.signatures&&e.signatures.length>=1?e.signatures[0].parameters:e.type?.declaration?.children?e.type.declaration.children:e.children?e.children:[])(t);return o.forEach(((e,t)=>{if("reference"===e.type.type)try{const t=n.children.find((t=>t.id===e.type.id));(Object.prototype.hasOwnProperty.call(t,"children")?t.children:t.type.declaration.children??[]).forEach(((e,t)=>{const n={_id:`${t}`,name:`${e.name}`,...d(e)};l.push(n)}))}catch(i){console.error("Something went wrong while fetching the reference"),console.error(i)}else{const n={_id:`${t}`,name:e.name,...d(e)};l.push(n)}})),(0,r.jsxs)(r.Fragment,{children:[a,(0,r.jsx)(p,{columns:u,rows:l,onRowClicked:()=>{}})]})},b=e=>{const{typeDoc:t}=e,n=(0,r.jsx)("h2",{children:"Returns"}),i=s("@returns",t);if(!i||i.content?.length<0)return(0,r.jsxs)(r.Fragment,{children:[n,(0,r.jsx)("p",{children:"No return value."})]});const a=i.content.map((e=>e.text)).join("");return(0,r.jsxs)(r.Fragment,{children:[n,(0,r.jsx)("div",{children:a})]})};var y=n(86850),h=n(71765),g=n(95293);const f=e=>{const{typeDoc:t,scope:n,preview:a,showErrors:o}=e,{colorMode:d}=(0,g.G)(),[c,p]=(0,i.useState)(),u=(0,r.jsx)("h2",{children:"Usage"}),m=(0,r.jsx)(l,{name:t.name});(0,i.useEffect)((()=>{d&&p("light"===d?h.Zj.github:h.Zj.dracula)}),[d]);const b=s("@usage",t);if(!b||b.content?.length<0)return(0,r.jsxs)(r.Fragment,{children:[u,(0,r.jsx)("p",{children:"Not usage example is available."})]});const f=b.content.find((e=>"text"===e.kind))?.text,x=b.content.find((e=>"code"===e.kind))?.text;if(!x)return m;const j=x.replaceAll(/(^```|```$)/g,"").trim();return(0,r.jsxs)(r.Fragment,{children:[u,f&&(0,r.jsx)("p",{children:f}),(0,r.jsxs)(y.Q,{code:j,scope:n,disabled:!1,theme:c,noInline:!1,children:[(0,r.jsx)(y.w,{}),o&&(0,r.jsx)(y.p1,{}),a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{children:"Preview:"}),(0,r.jsx)(y.pA,{})]})]})]})};var x=n(83345),j=n(23422),C=n(78154),w=n(11866),T=n(46463),v=n(40161),k=n(40760);const A=v.default.div`
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
`,B=v.default.div`
  display: flex;
  gap: 1rem;
  align-items: flex-end;
  justify-content: space-between;
`,O=e=>{const{blueprints:t}=e,[n,a]=(0,i.useState)("table"),[l,o]=(0,i.useState)([t?.[0]?.name]),s=t?.map((e=>e.name)),d=t?.find((e=>e.name===l[0]));return(0,r.jsxs)(A,{children:[(0,r.jsxs)(B,{children:[(0,r.jsx)(x.j,{label:"Select blueprint",selectedOptions:l,onOptionsChange:e=>{o(e.selectedItems)},options:s,style:{minWidth:300}}),(0,r.jsx)(j.E,{density:"compact",children:(0,r.jsxs)(B,{role:"radiogroup",children:[(0,r.jsx)(C.s,{label:"Table view",value:"table",checked:"table"===n,onClick:()=>a("table")}),(0,r.jsx)(C.s,{label:"JSON view",value:"json",checked:"json"===n,onClick:()=>a("json")})]})})]}),"table"===n&&(0,r.jsxs)(w.X,{style:{width:"100%"},children:[(0,r.jsx)(w.X.Head,{children:(0,r.jsxs)(w.X.Row,{children:[(0,r.jsx)(w.X.Cell,{children:"Attribute name"}),(0,r.jsx)(w.X.Cell,{children:"Attribute type"}),(0,r.jsx)(w.X.Cell,{children:"Dimensions"}),(0,r.jsx)(w.X.Cell,{children:"Description"}),(0,r.jsx)(w.X.Cell,{children:"Required"}),(0,r.jsx)(w.X.Cell,{children:"Default value"})]})}),(0,r.jsx)(w.X.Body,{children:d?.attributes?.map((e=>{return(0,r.jsxs)(w.X.Row,{children:[(0,r.jsx)(w.X.Cell,{children:e.name}),(0,r.jsx)(w.X.Cell,{children:(t=e.attributeType,t.includes("/")?`./${t.split("/").pop()}`:t)}),(0,r.jsx)(w.X.Cell,{style:{textAlign:"center"},children:e.dimensions}),(0,r.jsx)(w.X.Cell,{children:e.description||"-"}),(0,r.jsx)(w.X.Cell,{style:{textAlign:"center"},children:!0!==e.optional?(0,r.jsx)(k.BfX,{size:24,color:"#007079"}):null}),(0,r.jsx)(w.X.Cell,{children:void 0===e.default||""===e.default?"-":"object"==typeof e.default?(0,r.jsx)("pre",{style:{margin:0,padding:"0.25rem",fontSize:"0.675rem",maxWidth:"200px",background:"none",wordBreak:"break-word"},children:JSON.stringify(e.default,null,2)}):`${e.default}`})]},e.name);var t}))})]}),"json"===n&&(0,r.jsx)(T.A,{language:"json",title:l[0],showLineNumbers:!0,children:JSON.stringify(d,null,2)})]})};var R=n(72915),E=n.n(R),S=n(15156);const P=v.default.div`
  margin-bottom: 2rem;
  background: white;
  padding: 0.5rem;
  color: black;
  border: 2px dotted rgba(0, 0, 0, 0.3);
  border-radius: 10px;
  table {
    margin-bottom: 0;
    display: table;
    th {
      font-weight: 700;
    }
    thead {
      background-color: inherit;
    }
    tr {
      background-color: inherit;
    }
  }
`,N={"custom-box-plugin":{component:e=>{let{config:t}=e;return(0,r.jsx)("div",{style:{background:"rgb(222 237 238)",width:"100%",height:"80px",display:"flex",justifyContent:"center",alignItems:"center"},children:t?.content})}}},I=e=>{let{exampleConfig:t}=e;const{entity:n,blueprint:i,recipe:a,scope:l}=t,o={documentGet:async()=>({data:l?n[l]:n}),blueprintGet:async()=>({data:{blueprint:i}}),attributeGet:async()=>({data:{attribute:{contained:!0,ensureUID:!0,attributeType:"doc_attributeType"},address:"doc_address"}}),instantiateEntity:async()=>({data:n[l]?.[0]}),documentAdd:async()=>({}),documentUpdate:async()=>({})};if(!a?.plugin)return(0,r.jsx)("span",{children:"No plugin defined in recipe"});const s={...E(),...N},d=E()[a?.plugin]?.component;return(0,r.jsx)(S.ApplicationContext.Provider,{value:{dmssAPI:o,getUiPlugin:function(e){const t=s[e]?.component;return t||(()=>(0,r.jsxs)(S.ErrorGroup,{children:["Did not find the plugin: ",e]}))}},children:(0,r.jsx)(d,{type:"",idReference:"example",config:a?.config})})},X=e=>(0,r.jsx)(i.Suspense,{fallback:(0,r.jsx)("span",{}),children:(0,r.jsx)(P,{className:"dm-preflight",children:(0,r.jsx)(I,{...e})})})},51433:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(96540);const a={React:i,...i}}}]);