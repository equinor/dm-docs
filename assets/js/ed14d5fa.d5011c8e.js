"use strict";(self.webpackChunkdevelopment_framework_docs=self.webpackChunkdevelopment_framework_docs||[]).push([[5897],{2404:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>o});var t=i(74848),s=i(28453);const l={title:"Initial Setup",sidebar_position:1},a=void 0,r={id:"guides/development/initial-setup",title:"Initial Setup",description:"Init a new instance",source:"@site/docs/guides/development/initial-setup.md",sourceDirName:"guides/development",slug:"/guides/development/initial-setup",permalink:"/dm-docs/docs/guides/development/initial-setup",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Initial Setup",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Core development",permalink:"/dm-docs/docs/guides/development/"},next:{title:"Running",permalink:"/dm-docs/docs/guides/development/running"}},c={},o=[{value:"Init a new instance",id:"init-a-new-instance",level:2},{value:"Install pre-commit",id:"install-pre-commit",level:2},{value:"Setup API",id:"setup-api",level:2},{value:"Create virtualenv",id:"create-virtualenv",level:3},{value:"Activate virtualenv",id:"activate-virtualenv",level:3},{value:"Install Poetry",id:"install-poetry",level:3},{value:"Install packages",id:"install-packages",level:3},{value:"Setup Web",id:"setup-web",level:2},{value:"Install Yarn",id:"install-yarn",level:3},{value:"Install packages",id:"install-packages-1",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"init-a-new-instance",children:"Init a new instance"}),"\n",(0,t.jsxs)(n.p,{children:["Clone the ",(0,t.jsx)(n.strong,{children:"data modelling docs"})," repository."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git clone git@github.com:equinor/dm-docs.git\n"})}),"\n",(0,t.jsx)(n.h2,{id:"install-pre-commit",children:"Install pre-commit"}),"\n",(0,t.jsx)(n.p,{children:"When contributing to this project, pre-commit is necessary, as it runs certain tests, sanitisers, and formatters."}),"\n",(0,t.jsxs)(n.p,{children:["The project provides a ",(0,t.jsx)(n.code,{children:".pre-commit-config.yaml"})," file that is used to setup git ",(0,t.jsx)(n.em,{children:"pre-commit hooks"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"On commit locally, code is automatically formatted, checked for security vulnerabilities using pre-commit git hooks."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"pre-commit install\n"})}),"\n",(0,t.jsx)(n.p,{children:"This tell pre-commit to always run for this repository on every commit."}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsx)(n.p,{children:"Pre-commit will run on every commit, but can also be run manually on all files:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"pre-commit run --all-files\n"})}),(0,t.jsx)(n.p,{children:"Or be skipped:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"git commit --no-verify \n"})})]}),"\n",(0,t.jsx)(n.h2,{id:"setup-api",children:"Setup API"}),"\n",(0,t.jsxs)(n.p,{children:["From inside the ",(0,t.jsx)(n.code,{children:"/api"})," folder."]}),"\n",(0,t.jsx)(n.h3,{id:"create-virtualenv",children:"Create virtualenv"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"python3 -m venv .venv\n"})}),"\n",(0,t.jsx)(n.p,{children:"Virtual environment is used for running unit tests with pre-commit and upgrade packages."}),"\n",(0,t.jsx)(n.p,{children:"It also can be used to run the application if you not are using Docker."}),"\n",(0,t.jsx)(n.h3,{id:"activate-virtualenv",children:"Activate virtualenv"}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:"Linux"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"$ source .venv/bin/activate\n"})})]}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsx)("summary",{children:"Windows"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"$ .\\venv\\Scripts\\Activate.ps1\n$ pip install --upgrade pip\n"})})]}),"\n",(0,t.jsx)(n.h3,{id:"install-poetry",children:"Install Poetry"}),"\n",(0,t.jsx)(n.p,{children:"Poetry is used to manage Python package dependencies."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"$ pip install poetry\n# Do not create virtual environments\n$ poetry config virtualenvs.create false  \n"})}),"\n",(0,t.jsxs)(n.p,{children:["The installation instructions for Poetry can be found ",(0,t.jsx)(n.a,{href:"https://python-poetry.org/docs/#installation",children:"here"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"install-packages",children:"Install packages"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"$ poetry install\n"})}),"\n",(0,t.jsx)(n.h2,{id:"setup-web",children:"Setup Web"}),"\n",(0,t.jsxs)(n.p,{children:["From inside the ",(0,t.jsx)(n.code,{children:"/web"})," folder."]}),"\n",(0,t.jsx)(n.h3,{id:"install-yarn",children:"Install Yarn"}),"\n",(0,t.jsx)(n.p,{children:"This project uses yarn to manage web package dependencies."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"npm install -g yarn\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The installation instructions can be found ",(0,t.jsx)(n.a,{href:"https://classic.yarnpkg.com/en/docs/install",children:"here"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"install-packages-1",children:"Install packages"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"yarn install\n"})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>r});var t=i(96540);const s={},l=t.createContext(s);function a(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);